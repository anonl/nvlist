@@

userData = {key = 'value'}
setSharedGlobal('shared', 1)
result = 1

Save.save(1, userData, {screenshot=screenshot, width=100, height=100})

if getSharedGlobal('shared') == 1 then
    result = 2
    setSharedGlobal('shared', 2)

    -- Loading effectively transports us back in time to the save() line
    -- Only the update to the shared global isn't reverted (transcends save files)
    Save.load(1)
end

result = result + 100
@@